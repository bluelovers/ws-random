"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@lazy-random/expect"),t=require("@lazy-random/util-distributions"),r=require("@lazy-random/array-algorithm"),n=require("@lazy-random/df-uniform"),i=require("@lazy-random/shared-lib");function l(e,n,i){const l=r=>t.randIndex(e,r);if(!i){let e;return e=Buffer.isBuffer(n)?e=>Buffer.from(e):e=>e.slice(),()=>r.swapAlgorithm2(e(n),!0,l)}return()=>r.swapAlgorithm2(n,!0,l)}l.memoizable=!1,exports.dfArrayFill=function(t,r,l,o){let a;{let e=i.isUnset(r),f=i.isUnset(l);a=f&&e?n.dfUniformByte(t):o?n.dfUniformFloat(t,r,l):n.dfUniformInt(t,r,l),r=void 0,l=void 0}return e.expect(a).is.function(),e=>{let t=e.length;for(;t--;)e[t]=a();return e}},exports.dfArrayIndex=function(r,n,i=1,l=0,o){let a=n.length-1;e.expect(i).integer.gt(0),l=Math.max(Math.floor(l),0),o=Math.max(0,Math.floor(o))||a,e.expect(o).integer.gt(0).lte(a),e.expect(l).integer.gte(0).lt(o);const f=t.int;let u=Math.max(Math.min(o-l,a,i),0);return e.expect(u).gte(i).gt(0),()=>{let e,t=[];do{let n=f(r,l,o);e===n||t.includes(n)||(t.push(e=n),--u)}while(u>0);return t}},exports.dfArrayShuffle=l,exports.dfArrayUnique=function(r,n,i,l,o,a){let f=n.slice();i=Math.min(i||f.length,f.length),o=o||(e=>t.randIndex(r,e)),l=!!l,e.expect(i).integer.gt(0),e.expect(o).is.function();let u,s=i;const c=function(e){f=e.slice(),s=i,u=f.length};return()=>{if(u=f.length,0===u||0==s--){let e=l;if(a){let t=a(n,i,l,o);Array.isArray(t)&&t.length>0?(c(t),e=null):1==t?e=!0:void 0!==t&&(e=!1)}if(e)c(n);else if(null!==e)throw new RangeError(`can't call arrayUnique > ${i} times`)}let e=o(u);return f.splice(e,1)[0]}};
//# sourceMappingURL=index.cjs.production.min.cjs.map
